<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>게시판 목록</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <div class="container">
    <a class="navbar-brand" href="/">WebSecurity Demo</a>
    <div>
      <a class="nav-link d-inline-block text-white-50" href="/board">게시판</a>
      <a class="nav-link d-inline-block text-white-50" href="/board/write">글쓰기</a>
    </div>
  </div>
</nav>

<div class="container my-4">

  <div class="d-flex justify-content-between align-items-center mb-3">
    <h1 class="h3 mb-0">게시판</h1>
    <a href="/board/write" class="btn btn-primary">새 글 쓰기</a>
  </div>

  <div class="card shadow-sm">
    <div class="card-body p-0">
      <table class="table table-hover mb-0 align-middle">
        <thead class="table-light">
        <tr>
          <th style="width: 70px;">번호</th>
          <th>제목</th>
          <th style="width: 140px;">작성자</th>
          <th style="width: 180px;">작성일</th>
          <th style="width: 80px;">조회수</th>
        </tr>
        </thead>
        <tbody>
        <tr th:if="${#lists.isEmpty(posts)}">
          <td colspan="5" class="text-center text-muted py-4">
            아직 작성된 게시글이 없습니다.
          </td>
        </tr>

        <tr th:each="post : ${posts}">
          <td th:text="${post.id}"></td>
          <td>
            <!-- 🔹 이미지가 있는 글은 IMG 배지 표시 -->
            <span th:if="${post.imageUrl != null}"
                  class="badge text-bg-secondary me-1">IMG</span>
            <a th:href="@{'/board/' + ${post.id}}"
               th:text="${post.title}"
               class="text-decoration-none"></a>
          </td>
          <td th:text="${post.writer}"></td>
          <td th:text="${#temporals.format(post.createdAt, 'yyyy-MM-dd HH:mm')}"></td>
          <td th:text="${post.viewCount}"></td>
        </tr>
        </tbody>
      </table>
    </div>
  </div>

</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
